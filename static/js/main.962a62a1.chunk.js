(this["webpackJsonptoddle-task"]=this["webpackJsonptoddle-task"]||[]).push([[0],{16:function(e,r,n){},17:function(e,r,n){},20:function(e,r,n){},21:function(e,r,n){},22:function(e,r,n){"use strict";n.r(r);var c=n(1),l=n.n(c),t=n(11),a=n.n(t),d=(n(16),n(17),n(5)),i=n(2),s=n(3),h=n(4),o={subject:"Mathematics",children:{},childrenAllIdsOrder:[]},j=n(0),O=l.a.createContext();function u(e){var r=e.children,n=Object(c.useState)(o),l=Object(h.a)(n,2),t=l[0],a=l[1];return Object(j.jsx)(O.Provider,{value:{state:t,handleIndent:function(e,r,n){var c=t;if(e&&r&&n)alert("Maximum intend level reached.");else if(e&&r){var l=c.children[e],h=l.children,o=l.childrenAllIdsOrder,j=h[r].name,O=o.findIndex((function(e){return e===r}))-1;if(-1===O)alert("Your Chapter is having no heading.");else{var u=h[r].childrenAllIdsOrder.splice(0,h[r].childrenAllIdsOrder.length),b=o[O];h[b].children[r]={name:j,children:{},childrenAllIdsOrder:[]},h[b].childrenAllIdsOrder=[].concat(Object(i.a)(h[b].childrenAllIdsOrder),[r],Object(i.a)(u));var m,p=Object(d.a)(u);try{for(p.s();!(m=p.n()).done;){var v=m.value;h[b].children[v]={name:h[r].children[v].name,children:{},childrenAllIdsOrder:[]}}}catch(H){p.e(H)}finally{p.f()}delete h[r];var f=o.filter((function(e){return e!==r}));c.children[e].childrenAllIdsOrder=f,a(Object(s.a)({},t))}}else if(e)if(1===c.childrenAllIdsOrder.length)alert("One Chapter cannot be Subhead.");else{var x=c.children[e].name,N=c.children,g=c.childrenAllIdsOrder,I=N[e].childrenAllIdsOrder,A=g.findIndex((function(r){return r===e}))-1,w=g[A];N[w].children[e]={name:x,childrenAllIdsOrder:[],children:{}},N[w].childrenAllIdsOrder=[].concat(Object(i.a)(N[w].childrenAllIdsOrder),[e]);var D,C=Object(d.a)(I);try{for(C.s();!(D=C.n()).done;){var S=D.value;N[w].childrenAllIdsOrder=[].concat(Object(i.a)(N[w].childrenAllIdsOrder),[S]);var y=N[e].children[S].name;N[w].children[S]={name:y,children:{},childrenAllIdsOrder:[]}}}catch(H){C.e(H)}finally{C.f()}var E=g.filter((function(r){return r!==e}));c.childrenAllIdsOrder=E,delete c.children[e],a(Object(s.a)({},c))}},handleOutdent:function(e,r,n){var c=t;if(e&&r&&n){var l=c.children[e],i=l.children,h=l.childrenAllIdsOrder,o=c.children[e].children[r].children[n].name,j=i[r].childrenAllIdsOrder.findIndex((function(e){return e===n})),O=i[r].childrenAllIdsOrder.splice(j+1,i[r].childrenAllIdsOrder.length);i[n]={children:{},childrenAllIdsOrder:O};var u=i[r].children;i[n].name=o;var b,m=Object(d.a)(O);try{for(m.s();!(b=m.n()).done;){var p=b.value;i[n].children[p]={name:u[p].name}}}catch(P){m.e(P)}finally{m.f()}var v,f=Object(d.a)(i[n].childrenAllIdsOrder);try{for(f.s();!(v=f.n()).done;){var x=v.value;delete i[r].children[x]}}catch(P){f.e(P)}finally{f.f()}delete i[r].children[n];var N=i[r].childrenAllIdsOrder.findIndex((function(e){return e===n}));i[r].childrenAllIdsOrder.splice(N,1);var g=h.findIndex((function(e){return e===r}));h.splice(g+1,0,n),a(Object(s.a)({},c))}else if(e&&r){var I=c.children,A=c.childrenAllIdsOrder,w=I[e].children[r].name,D=I[e].childrenAllIdsOrder.findIndex((function(e){return e===r}));if(0!==I[e].children[r].childrenAllIdsOrder.length)alert("You have Sub-heading to settle.");else if(D+1){var C=I[e].childrenAllIdsOrder.slice(D,I[e].childrenAllIdsOrder.length);C.shift(),I[r]={name:w,children:{},childrenAllIdsOrder:C};var S,y=Object(d.a)(C);try{for(y.s();!(S=y.n()).done;){var E=S.value;I[r].children[E]={name:I[e].children[E].name,children:{},childrenAllIdsOrder:[]}}}catch(P){y.e(P)}finally{y.f()}I[e].childrenAllIdsOrder=I[e].childrenAllIdsOrder.slice(0,D);var H,k=Object(d.a)(C);try{for(k.s();!(H=k.n()).done;){var G=H.value;delete I[e].children[G]}}catch(P){k.e(P)}finally{k.f()}delete I[e].children[r];var T=A.findIndex((function(r){return r===e}));c.childrenAllIdsOrder.splice(T+1,0,r),a(Object(s.a)({},c))}else alert("No heading but sub headings are there.")}else e&&alert("Maximum outdent level reached.")},HandleChangeStandard:function(e,r,n,c){var l=t,d=e.target.value;r&&n&&c?l.children[r].children[n].children[c].name=d:r&&n?l.children[r].children[n].name=d:r&&(l.children[r].name=d),a(Object(s.a)({},l))},trashStandard:function(e,r,n){var c=t;e&&r&&n?(c.children[e].children[r].childrenAllIdsOrder=c.children[e].children[r].childrenAllIdsOrder.filter((function(e){return e!==n})),delete c.children[e].children[r].children[n]):e&&r?(c.children[e].childrenAllIdsOrder=c.children[e].childrenAllIdsOrder.filter((function(e){return e!==r})),delete c.children[e].children[r]):e&&(c.childrenAllIdsOrder=c.childrenAllIdsOrder.filter((function(r){return r!==e})),delete c.children[e]),a(Object(s.a)({},c))},addStandard:function(e,r){var n=t,c=Math.random();if("CHAPTER"===e)n.childrenAllIdsOrder=[].concat(Object(i.a)(n.childrenAllIdsOrder),[c]),n.children[c]={name:r,children:{},childrenAllIdsOrder:[]};else if("HEADING"===e){var l=n.childrenAllIdsOrder[n.childrenAllIdsOrder.length-1];l?(n.children[l].childrenAllIdsOrder=[].concat(Object(i.a)(n.children[l].childrenAllIdsOrder),[c]),n.children[l].children[c]={name:r,children:{},childrenAllIdsOrder:[]},a(Object(s.a)({},n))):alert("There Are no chapters. Please Add chapters.")}else if("SUBHEADING"===e){var d=n.childrenAllIdsOrder[n.childrenAllIdsOrder.length-1];if(d){var h=n.children[d].childrenAllIdsOrder[n.children[d].childrenAllIdsOrder.length-1];if(h){var o=n.children[d].children[h];o.children[c]={name:r},o.childrenAllIdsOrder=[].concat(Object(i.a)(o.childrenAllIdsOrder),[c]),a(Object(s.a)({},n))}else alert("The is no Heading in the Chapter.")}else alert("There is no Chapter.")}},getJSONData:function(e){a(Object(s.a)({},e))},triggerDragDrop:function(e,r){var n=t;if(1===e.length){var c,l=n.childrenAllIdsOrder.findIndex((function(r){return r===e[0]})),d=n.childrenAllIdsOrder.findIndex((function(e){return e===r[0]})),h=n.childrenAllIdsOrder.splice(l,1);(c=n.childrenAllIdsOrder).splice.apply(c,[d,0].concat(Object(i.a)(h)))}else if(2===e.length){var o=n.children[e[0]].children[e[1]];delete n.children[e[0]].children[e[1]];var j=n.children[e[0]].childrenAllIdsOrder.findIndex((function(r){return r===e[1]}));n.children[e[0]].childrenAllIdsOrder.splice(j,1);var O=n.children[r[0]].childrenAllIdsOrder.findIndex((function(e){return e===r[1]}));n.children[r[0]].childrenAllIdsOrder.splice(O,0,e[1]),n.children[r[0]].children[e[1]]=Object(s.a)({},o)}else if(3===e.length){var u=n.children[e[0]].children[e[1]].children[e[2]];delete n.children[e[0]].children[e[1]].children[e[2]];var b=n.children[e[0]].children[e[1]].childrenAllIdsOrder.findIndex((function(r){return r===e[2]}));n.children[e[0]].children[e[1]].childrenAllIdsOrder.splice(b,1);var m=n.children[r[0]].children[r[1]].childrenAllIdsOrder.findIndex((function(e){return e===r[2]}));n.children[r[0]].children[r[1]].childrenAllIdsOrder.splice(m,0,e[2]),n.children[r[0]].children[r[1]].children[e[2]]={name:u.name}}a(Object(s.a)({},t))}},children:Object(j.jsx)("div",{className:"App",children:r})})}var b=n(8),m=n.n(b),p=n(10);n(20);function v(){var e=Object(c.useContext)(O),r=e.state,n=e.getJSONData,l=function(){var e=Object(p.a)(m.a.mark((function e(r){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.target.files[0].name.endsWith(".json")?(r.preventDefault(),(c=new FileReader).onload=function(){var e=Object(p.a)(m.a.mark((function e(r){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r.target.result,n(JSON.parse(c));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),c.readAsText(r.target.files[0])):alert("It is not a JSON file. kindly Upload a file having .json extension.");case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"header-buttons-wrapper",children:[Object(j.jsxs)("span",{className:"upload-wrapper",children:[Object(j.jsx)("label",{htmlFor:"fusk",children:"Load JSON"}),Object(j.jsx)("input",{id:"fusk",type:"file",name:"JSONFile",style:{display:"none"},onChange:l})]})," ",Object(j.jsx)("a",{className:"save-wrapper",href:"data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(r))),download:"API.json",children:"Save JSON"})]})}n(21);var f=n.p+"static/media/right-arrow.f56c2e28.svg",x=n.p+"static/media/left-arrow.ec8a413d.svg",N=n.p+"static/media/move.aaf80333.svg",g=n.p+"static/media/trash.c5389bbd.svg";function I(){var e=Object(c.useState)("CHAPTER"),r=Object(h.a)(e,2),n=r[0],t=r[1],a=Object(c.useState)(""),d=Object(h.a)(a,2),s=d[0],o=d[1],u=Object(c.useContext)(O),b=u.state,m=b.subject,p=b.children,v=b.childrenAllIdsOrder,I=u.triggerDragDrop,A=Object(c.useState)([]),w=Object(h.a)(A,2),D=w[0],C=w[1],S=Object(c.useState)([]),y=Object(h.a)(S,2),E=y[0],H=y[1],k=p,G=v,T=function(e){C(Object(i.a)(e))},P=function(e){H(Object(i.a)(e))},J=function(){D.length!==E.length?alert("Parent element cannot be a chilren E.g Chapter cannot be Heading or Subheading."):I(E,D)},M=u.handleIndent,R=u.handleOutdent,B=u.HandleChangeStandard,U=u.trashStandard,F=u.addStandard,L=function(e){return"CHAPTER"===e?"0em":"HEADING"===e?"1em":"SUBHEADING"===e?"2em":""};return Object(j.jsxs)("div",{className:"curriculum-wrapper",children:[Object(j.jsx)("div",{className:"subject-heading",children:Object(j.jsx)("b",{children:m})}),Object(j.jsxs)("div",{className:"subjects-wrapper",children:[Object(j.jsxs)("div",{className:"subjects-heading",children:[Object(j.jsxs)("div",{className:"heading-wrapper",children:[Object(j.jsx)("div",{className:"main-heading",children:"Actions"}),Object(j.jsx)("div",{className:"sub-heading",children:"Move, Indent, Outdent, Delete"})]}),Object(j.jsxs)("div",{className:"heading-wrapper",children:[Object(j.jsx)("div",{className:"main-heading",children:"Standard"}),Object(j.jsx)("div",{className:"sub-heading",children:"The text of the standard"})]})]}),Object(j.jsx)("div",{className:"subject-body",children:G.map((function(e){var r=k[e].name,n=k[e].children,c=k[e].childrenAllIdsOrder;return Object(j.jsxs)("div",{className:"subject-box",children:[Object(j.jsxs)("div",{className:"subject-row",children:[Object(j.jsxs)("div",{className:"subject-col",onDragOver:function(){T([e])},children:[Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:N,alt:"move",onDragStart:function(){P([e])},onDragEnd:function(){J()}}),Object(j.jsx)("span",{className:"tooltiptext",children:"Move"})]})," ",Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:x,alt:"left indent",onClick:function(){R(e)}}),Object(j.jsx)("span",{className:"tooltiptext",children:"Outdent"})]})," ",Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:f,alt:"right indent",onClick:function(){M(e)}})," ",Object(j.jsx)("span",{className:"tooltiptext",children:"Indent"})]}),Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:g,alt:"dustbin",onClick:function(){U(e),t("CHAPTER")}}),Object(j.jsx)("span",{className:"tooltiptext",children:"Delete"})]})]}),Object(j.jsx)("div",{className:"subject-col",children:Object(j.jsx)("div",{className:"level",style:{marginLeft:"".concat(L("CHAPTER"))}})}),Object(j.jsx)("div",{className:"subject-col",children:Object(j.jsx)("input",{className:"chapter",type:"text",value:r,onChange:function(r){return B(r,e)}})})]}),Object(j.jsx)("div",{className:"heading-box",children:c.map((function(r){var c=n[r].name,a=n[r].childrenAllIdsOrder,d=n[r].children;return Object(j.jsxs)(l.a.Fragment,{children:[Object(j.jsxs)("div",{className:"heading-row",children:[Object(j.jsxs)("div",{className:"heading-col",onDragOver:function(){T([e,r])},children:[Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:N,alt:"move",onDragStart:function(){P([e,r])},onDragEnd:function(){J()}})," ",Object(j.jsx)("span",{className:"tooltiptext",children:"Move"})]}),Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:x,alt:"left arrow",onClick:function(){R(e,r)}})," ",Object(j.jsx)("span",{className:"tooltiptext",children:"Outdent"})]}),Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:f,alt:"right arrow",onClick:function(){M(e,r)}})," ",Object(j.jsx)("span",{className:"tooltiptext",children:"Indent"})]}),Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:g,alt:"dustbin",onClick:function(){U(e,r),t("HEADING")}}),Object(j.jsx)("span",{className:"tooltiptext",children:"Delete"})]})]}),Object(j.jsx)("div",{className:"heading-col",children:Object(j.jsx)("div",{className:"level",style:{marginLeft:"".concat(L("HEADING"))}})}),Object(j.jsx)("div",{className:"heading-col",children:Object(j.jsx)("input",{className:"heading",type:"text",value:c,onChange:function(n){return B(n,e,r)}})})]},r),Object(j.jsx)("div",{className:"sub-heading-box",children:a&&a.map((function(n){var c=d[n].name;return Object(j.jsxs)("div",{className:"sub-heading-row",children:[Object(j.jsxs)("div",{className:"sub-heading-col",onDragOver:function(){T([e,r,n])},children:[Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:N,alt:"move",onDragStart:function(){P([e,r,n])},onDragEnd:function(){J()}})," ",Object(j.jsx)("span",{className:"tooltiptext",children:"Move"})]}),Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:x,alt:"left arrow",onClick:function(){R(e,r,n)}})," ",Object(j.jsx)("span",{className:"tooltiptext",children:"Outdent"})]}),Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:f,alt:"right arrow",onClick:function(){return M(e,r,n)}})," ",Object(j.jsx)("span",{className:"tooltiptext",children:"Indent"})]}),Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:g,alt:"dustbin",onClick:function(){U(e,r,n),t("SUBHEADING")}}),Object(j.jsx)("span",{className:"tooltiptext",children:"Delete"})]})]}),Object(j.jsx)("div",{className:"sub-heading-col",children:Object(j.jsx)("div",{className:"level",style:{marginLeft:"".concat(L("SUBHEADING"))}})}),Object(j.jsx)("div",{className:"sub-heading-col",children:Object(j.jsx)("input",{className:"sub-heading",type:"text",value:c,onChange:function(c){return B(c,e,r,n)}})})]},n)}))})]},r)}))})]},e)}))})]}),Object(j.jsx)("div",{className:"enter-standard",children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),F(n,s),o("")},children:[Object(j.jsxs)("div",{className:"standard-row",children:[Object(j.jsxs)("div",{className:"standard-col",children:[Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:N,alt:"move"}),Object(j.jsx)("span",{className:"tooltiptext",children:"Move"})]})," ",Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:x,alt:"left arrow",onClick:function(){"SUBHEADING"===n?t("HEADING"):"HEADING"===n&&t("CHAPTER")}})," ",Object(j.jsx)("span",{className:"tooltiptext",children:"Outdent"})]})," ",Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:f,alt:"right arrow",onClick:function(){"CHAPTER"===n?t("HEADING"):"HEADING"===n&&t("SUBHEADING")}})," ",Object(j.jsx)("span",{className:"tooltiptext",children:"Indent"})]})," ",Object(j.jsxs)("div",{className:"tooltip-wrapper",children:[Object(j.jsx)("img",{className:"cursor-pointer",src:g,alt:"dustbin",onClick:function(){return U()}}),Object(j.jsx)("span",{className:"tooltiptext",children:"Delete"})]})," "]}),Object(j.jsx)("div",{className:"standard-col",children:Object(j.jsx)("div",{className:"level",style:{marginLeft:"".concat(L(n))}})}),Object(j.jsx)("div",{className:"standard-col",children:Object(j.jsx)("input",{className:"CHAPTER"===n?"chapter":"HEADING"===n?"heading":"sub-heading",type:"text",placeholder:"Type standard here (eg. Numbers ...)",required:!0,autoFocus:!0,value:s,onChange:function(e){return o(e.target.value)}})})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"submit",className:"add-standard",children:"\u271a Add a standard"})})]})})]})}var A=function(){return Object(j.jsxs)(u,{children:[Object(j.jsx)(I,{}),Object(j.jsx)(v,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(j.jsx)(l.a.StrictMode,{children:Object(j.jsx)(A,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.962a62a1.chunk.js.map